<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <h1>Debug Test Page</h1>
    
    <h2>1. CDN 리소스 테스트</h2>
    <div id="cdn-test"></div>
    
    <h2>2. Google Sheets 접근 테스트</h2>
    <div id="sheets-test"></div>
    
    <h2>3. 로컬 파일 접근 테스트</h2>
    <div id="files-test"></div>
    
    <h2>4. Chart.js 테스트</h2>
    <canvas id="test-chart" width="400" height="200"></canvas>
    
    <script>
        // 1. CDN 테스트
        const cdnTest = document.getElementById('cdn-test');
        if (typeof Chart !== 'undefined') {
            cdnTest.innerHTML = '<p style="color: green;">✓ Chart.js CDN 로드 성공</p>';
        } else {
            cdnTest.innerHTML = '<p style="color: red;">✗ Chart.js CDN 로드 실패</p>';
        }
        
        // 2. Google Sheets 테스트
        async function testGoogleSheets() {
            const sheetsTest = document.getElementById('sheets-test');
            try {
                const url = 'https://docs.google.com/spreadsheets/d/1lnRrdQynfk-XrgYsKmf1_XFCBDa9jLr2XVRib-2lpTk/export?format=csv&gid=442491515';
                const response = await fetch(url);
                if (response.ok) {
                    sheetsTest.innerHTML = '<p style="color: green;">✓ Google Sheets 접근 성공</p>';
                } else {
                    sheetsTest.innerHTML = '<p style="color: red;">✗ Google Sheets 접근 실패: ' + response.status + '</p>';
                }
            } catch (error) {
                sheetsTest.innerHTML = '<p style="color: red;">✗ Google Sheets 접근 오류: ' + error.message + '</p>';
            }
        }
        testGoogleSheets();
        
        // 3. 로컬 파일 테스트
        async function testLocalFiles() {
            const filesTest = document.getElementById('files-test');
            try {
                const response = await fetch('Reports/2025/06/2025-06-28.html');
                if (response.ok) {
                    filesTest.innerHTML = '<p style="color: green;">✓ 로컬 리포트 파일 접근 성공</p>';
                } else {
                    filesTest.innerHTML = '<p style="color: red;">✗ 로컬 리포트 파일 접근 실패: ' + response.status + '</p>';
                }
            } catch (error) {
                filesTest.innerHTML = '<p style="color: red;">✗ 로컬 파일 접근 오류: ' + error.message + '</p>';
            }
        }
        testLocalFiles();
        
        // 4. Chart.js 테스트
        if (typeof Chart !== 'undefined') {
            const ctx = document.getElementById('test-chart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
                    datasets: [{
                        label: 'Test Data',
                        data: [12, 19, 3, 5, 2],
                        borderColor: 'rgb(75, 192, 192)',
                        tension: 0.1
                    }]
                }
            });
        }
    </script>
</body>
</html>